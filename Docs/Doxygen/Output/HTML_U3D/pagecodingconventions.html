<HTML>
<HEAD>
<TITLE>Universal 3D:Universal 3D: Coding Conventions</TITLE>
<meta name = "description" content = "">
<meta name = "keywords" content = "">
<meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<link href="U3D.css" rel="stylesheet" type="text/css">
</HEAD>
<BODY bgcolor="#eeeeee">
<A NAME="#top">

<TABLE WIDTH="100%" CELLPADDING="0" CELLSPACING="0"  BORDER="0">
<TR>
 <TD COLSPAN="2" BACKGROUND="ImagesCommon/top.gif"><IMG SRC="ImagesCommon/top_left.gif" WIDTH="31" HEIGHT="15"></TD>
 <TD COLSPAN="2" BACKGROUND="ImagesCommon/top.gif"></TD>
 <TD COLSPAN="1" WIDTH="100" ><IMG SRC="ImagesCommon/top_right.gif" HEIGHT="15" ></TD>
</TR>
<TR>
  <TD BGCOLOR="#0033ff" WIDTH="31"><TABLE WIDTH="31" CELLPADDING="0" CELLSPACING="0"  BORDER="0"></TABLE></TD>
  <TD WIDTH = "18" VALIGN="top"  ><IMG SRC="ImagesCommon/nav_spacer.gif" BORDER="0" ></TD>
  <TD WIDTH="*" BACKGROUND="ImagesCommon/yellowback2.gif" VALIGN="top" >
  <TABLE WIDTH="290" CELLPADDING="0" CELLSPACING="0"  BORDER="0"></TABLE>
<A class="qindex" href="index.html"><IMG ALIGN="middle" SRC="ImagesCommon/bullet.gif" BORDER="0"><B><FONT SIZE=-1 FACE="arial" COLOR="#315AFF"> main</FONT></B></A>
<A class="qindex" href="hierarchy.html"><IMG ALIGN="middle" SRC="ImagesCommon/bullet.gif" BORDER="0"><B><FONT SIZE=-1 FACE="arial" COLOR="#315AFF"> hierarchy</FONT></B></A>
<A class="qindex" href="annotated.html"><IMG ALIGN="middle" SRC="ImagesCommon/bullet.gif" BORDER="0"><B><FONT SIZE=-1 FACE="arial" COLOR="#315AFF"> annotated types</FONT></B></A>
<A class="qindex" href="classes.html"><IMG ALIGN="middle" SRC="ImagesCommon/bullet.gif" BORDER="0"><B><FONT SIZE=-1 FACE="arial" COLOR="#315AFF"> type index</FONT></B></A>
<A class="qindex" href="functions.html"><IMG ALIGN="middle" SRC="ImagesCommon/bullet.gif" BORDER="0"><B><FONT SIZE=-1 FACE="arial" COLOR="#315AFF"> functions</FONT></B></A>
<A class="qindex" href="globals.html"><IMG ALIGN="middle" SRC="ImagesCommon/bullet.gif" BORDER="0"><B><FONT SIZE=-1 FACE="arial" COLOR="#315AFF"> globals</FONT></B></A>
<A class="qindex" href="files.html"><IMG ALIGN="middle" SRC="ImagesCommon/bullet.gif" BORDER="0"><B><FONT SIZE=-1 FACE="arial" COLOR="#315AFF"> files</FONT></B></A>
<A class="qindex" href="dirs.html"><IMG ALIGN="middle" SRC="ImagesCommon/bullet.gif" BORDER="0"><B><FONT SIZE=-1 FACE="arial" COLOR="#315AFF"> directories</FONT></B></A>
<A class="qindex" href="pages.html"><IMG ALIGN="middle" SRC="ImagesCommon/bullet.gif" BORDER="0"><B><FONT SIZE=-1 FACE="arial" COLOR="#315AFF"> related pages</FONT></B></A>
</TD>
  <TD  WIDTH="*" VALIGN="top" ALIGN="left" BACKGROUND="ImagesCommon/logospacer.gif"><IMG SRC="ImagesCommon/logo_spacer.gif" WIDTH="22" HEIGHT="52"></TD>
  <TD  WIDTH="100" VALIGN="top" ALIGN="right" ><A HREF="http://sourceforge.net/projects/u3d/"><IMG SRC="ImagesCommon/logo.gif"  HEIGHT="52" BORDER="0"></A></TD>
</TR>
</TABLE>

<TABLE WIDTH="100%" CELLPADDING="0" CELLSPACING="0"  BORDER="0">
<TR>
<TD WIDTH="39" BACKGROUND="ImagesCommon/left2.gif"  align="left"></TD>
<TD WIDTH="10" BGCOLOR="#eeeeee"></TD>
<TD WIDTH="*" BGCOLOR="#eeeeee">
<BR>
<!-- Generated by Doxygen 1.4.4 -->
<h1><a class="anchor" name="PageCodingConventions">Coding Conventions</a></h1><hr>
 <h2><a class="anchor" name="SectionMusts">
Musts</a></h2>
<ol type=1>
<li>Follow the IFXCOM guidelines when defining, implementing or using IFXCOM components. The guidelines for CIL languages such as C# are TBD.</li><li>Use the boiler-plate code templates for defining new source files (including IFXCOM interfaces and components). Of particular importance is the inclusion of the common copyright notice and disclaimer. <br>
<br>
<hr>
<br>
</li><li>Use header file ifdef's to prevent multiple inclusions of the same header file.</li><li>No paths in include statements. Use local project settings to specify paths.</li><li>Watch case sensitivity in system header include statements for portability (use stdlib.h instead of StdLib.h).</li><li>Public interface header files must not include or require private implementation header files. <br>
<br>
<hr>
<br>
</li><li>Document module contents, interfaces, classes, methods and other significant items with doxygen comments in the JavaDoc style (/// and /** where asterisks on intermediate new lines are optional). Specify doxygen commands using lower-case characters. Prefix commands with the "@" symbol instead of a "\".</li><li>Use comments to describe the meaning of global and class data members (including when valid/initialized).</li><li>Use comments prefixed with doxygen <code>todo</code> commands and date to mark all uncompleted work or issues that need to be investigated.</li><li>All function and method names begin with an UPPERCASE letter. Subsequent words begin with an UPPERCASE letter.</li><li>Names of all functions and methods must end with the suffix "X" if they are known to throw exceptions. This is necessary even if they call another method or function that throws exceptions. However, it is not necessary if such called functionality is wrapped in a try catch block and the method or function itself does not directly throw any exceptions.</li><li>All variable names, after prefixes (such as "m_"), begin with a lowercase letter. Subsequent words begin with an UPPERCASE letter. For example, m_myValue or m_pMyValue when the required prefixes and/or Hungarian is being used.</li><li>Macro and define names should be all UPPERCASE letters separated by underscores. Use an underscore to prefix module locals.</li><li>Prefix public, globally scoped classes, structs and functions (not methods) with "IFX" and no underscore. For CIL languages such as C# and Managed C++ use "U3D".</li><li>Required prefixes are listed in the following table (the U3D containing prefixes are used for CIL languages such as C# and Managed C++): <br>
<br>
 <table width="50%" border="1" align="center" cellspacing="3" cellpadding="3">
<tr>
<td>Class or structure definition </td><td>IFX / U3D  </td></tr>
<tr>
<td>Interface class definition </td><td>IFX / IU3D  </td></tr>
<tr>
<td>Component definition </td><td>CIFX / CU3D  </td></tr>
<tr>
<td>Template definition </td><td>TIFX / TU3D  </td></tr>
<tr>
<td>Enumeration definition </td><td>EIFX / EU3D  </td></tr>
<tr>
<td>Function (not for a class-scoped method) </td><td>IFX / U3D  </td></tr>
</table>
<br>
</li><li>Required variable naming prefixes are listed in order of usage precedence in the following table: <br>
<br>
 <table width="50%" border="1" align="center" cellspacing="3" cellpadding="3">
<tr>
<td>Data Member </td><td>m_  </td></tr>
<tr>
<td>Data member static </td><td>ms_  </td></tr>
<tr>
<td>Global </td><td>g_  </td></tr>
<tr>
<td>Global static </td><td>gs_  </td></tr>
<tr>
<td>Local static </td><td>s_  </td></tr>
<tr>
<td>Reference </td><td>r  </td></tr>
<tr>
<td>Pointer </td><td>p  </td></tr>
<tr>
<td>Pointer to pointer </td><td>pp  </td></tr>
<tr>
<td>Handle </td><td>h  </td></tr>
</table>
<br>
</li><li>In new modules, consistently place block brackets on their own new lines, immediately below associated selection or iteration statement keywords, and consistently use only the above variable naming prefixes.</li><li>In existing modules, adhere to the established common block bracket placement style and variable naming style.</li><li>Use tabs for indenting with 4 character interval tab stops (setup editor to NOT insert characters when tab is pressed).</li><li>File names must not include white space. <br>
<br>
<hr>
<br>
</li><li>Validate all external interface inputs (i.e. function/method parameters) for major subsystems in all builds.</li><li>Check function/method results and return meaningful errors.</li><li>Assert assumptions and correctness.</li><li>No assignments to non-debug variables in debug only code. <br>
<br>
<hr>
<br>
</li><li>Class constructors should fully qualify all calls they make to their virtual methods.</li><li>Make class destructors virtual unless a class has no virtual methods and is optimized for size. If not, explicitly document why.</li><li>Provide copy constructors for non-trivial classes not intended to be IFXCOM components.</li><li>Classes should not have any public data members.</li><li>Use basic types defined in <a class="el" href="_i_f_x_data_types_8h.html">IFXDataTypes.h</a> (i.e. avoid unconstrained types and types we don't have control over).</li><li>Create flexible data structures (i.e. no arbitrary limits).</li><li>No magic numbers. Use descriptive constants or enumerations instead.</li><li>The last enumeration in an enumerated type definition must not be followed by a comma.</li><li>All enumerated types must be stored as 32-bit values. This can be ensured with the proper project build settings.</li><li>Isolate and abstract platform/OS specific code into functions and modules named with "IFXOS" prefix (OS specific ifdef's belong here).</li><li>No C++ stream I/O usage. Instead, use standard C library I/O. <br>
<br>
<hr>
<br>
</li><li>Result codes shall be returned by all non-trivial functions and methods using the IFXResult type. Alternatively, when unexpected errors occur that are not a part of normal execution an <a class="el" href="class_i_f_x_exception.html">IFXException</a> may be thrown if the function or method's name has the suffix "X".</li><li>The names of functions, interfaces and classes that throw exceptions shall have the suffix "X".</li><li>Source code must check the result codes of all called functions and methods that return them using the macros defined in <a class="el" href="_i_f_x_result_8h.html">IFXResult.h</a> and <a class="el" href="_i_f_x_check_x_8h.html">IFXCheckX.h</a>. When an exception is made and this is not done, comments must be provided that describe the reason why. <br>
<br>
<hr>
<br>
</li><li>Prior to code check-in, it must compile and link with no level-3 warnings (with approved pragma suppressions) in all builds.</li><li>Prior to code check-in before Beta, do reasonable unit testing. After Beta, first check all branches in the debugger.</li><li>Design and code inspections should be used for significant modules and code (schedule them early).</li><li>Before shipping, create a certificate of origin for all code.</li><li>Before shipping, verify the correct copyright was used for all new and modified files.</li><li>Before shipping, make sure all executables and dynamic libraries have an appropriate, fairly consistent version resource.</li><li>Before shipping, address all sections in the code marked with <code>todo</code> prefixes. Ideally, add the comment text <code>FUTURE</code> if postponed.</li></ol>
<p>
<hr>
 <h2><a class="anchor" name="SectionGoodPractice">
Good Practice</a></h2>
<ol type=1>
<li>Every class/component/interface has its own header (.h) and body (.cpp) source file.</li><li>Header (.h) and body (.cpp) source file names are exactly the name of the class.</li><li>Source code line length should be limited to ~80 characters. Adhere to the established style of the file being edited.</li><li>Header (.h) files include all and only required headers (except precompiled headers). Avoid forward class declarations.</li><li>Use the project defined function/method return value system (refer to IFXOSDebug.h).</li><li>Use the project defined debug messaging, assertion and trace system (refer to IFXOSDebug.h).</li><li>Initialize all local variables before usage.</li><li>Validate inputs and outputs as early as possible.</li><li>Give all class data members private visibility (except consts). Provide protected accessor methods for derived classes.</li><li>All intrinsic data types are passed by value unless they are used to return a value. Other data types are never passed by value unless they are &lt;= the size of a pointer.</li><li>Minimize conditional compilation.</li><li>Minimize casting.</li><li>Minimize the scope of code and data.</li><li>Minimize block depth/levels of indentation.</li><li>Minimize function/method exit points.</li><li>Minimize operator overloading to reduce cryptic and deceptive code.</li><li>Use consts and enums (class scoped when possible) over defines.</li><li>When define declarations are used, enclose the value/calculation in parens and cast it to the desired type.</li><li>Avoid excessive commenting of end of block "}" statements and endif's.</li><li>Don't put end-of-file "EOF" comments at the end of any source files.</li><li>Don't duplicate code in a comment unless the comment is providing an example.</li><li>Code behavior is more clear if "NULL" is explicitly used when checking for null or non-null pointers.</li><li>When comparing against a constant, unintended assignments can be prevented by placing the const on the left side of the comparison.</li></ol>
<p>
<hr>
 <h2><a class="anchor" name="SectionRelatedInformation">
Related Information</a></h2>
<ul>
<li><a class="el" href="pagecodingconventionsifxcom.html">IFXCOM Coding Conventions</a> </li></ul>
<P>

<TABLE CELLPADDING="0" CELLSPACING="0" BORDER="0">
 <TR><TD>
 <FONT SIZE="-2" FACE="arial"><I>&#169; 1999 - 2006 Intel Corporation. All rights reserved.<BR><BR>
 * Other names and brands may be claimed as the property of others.</I></FONT>
 </TD></TR>
</TABLE>

<TABLE WIDTH="100%" CELLPADDING="0" CELLSPACING="0" BORDER="0">
<TR>
<TD WIDTH="18"><IMG SRC="ImagesCommon/footer1.gif" HEIGHT="45" BORDER="0"></TD>
<TD WIDTH="5" ><IMG SRC="ImagesCommon/footer2.gif" WIDTH="5" HEIGHT="45" BORDER="0"></TD>
<TD WIDTH="28"><IMG SRC="ImagesCommon/footer3.gif" HEIGHT="45" BORDER="0"></TD>
<TD BACKGROUND="ImagesCommon/footer4.gif" WIDTH="*"><IMG SRC="ImagesCommon/footer4.gif" HEIGHT="45" BORDER="0"></TD>
<TD WIDTH="26"><IMG SRC="ImagesCommon/footer5.gif" HEIGHT="45" BORDER="0"></TD>
</TR>
<TR><TD COLSPAN="5"></TD></TR>
</TABLE>


