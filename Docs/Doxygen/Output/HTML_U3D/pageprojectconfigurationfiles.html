<HTML>
<HEAD>
<TITLE>Universal 3D:Universal 3D: Project Configuration Files</TITLE>
<meta name = "description" content = "">
<meta name = "keywords" content = "">
<meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<link href="U3D.css" rel="stylesheet" type="text/css">
</HEAD>
<BODY bgcolor="#eeeeee">
<A NAME="#top">

<TABLE WIDTH="100%" CELLPADDING="0" CELLSPACING="0"  BORDER="0">
<TR>
 <TD COLSPAN="2" BACKGROUND="ImagesCommon/top.gif"><IMG SRC="ImagesCommon/top_left.gif" WIDTH="31" HEIGHT="15"></TD>
 <TD COLSPAN="2" BACKGROUND="ImagesCommon/top.gif"></TD>
 <TD COLSPAN="1" WIDTH="100" ><IMG SRC="ImagesCommon/top_right.gif" HEIGHT="15" ></TD>
</TR>
<TR>
  <TD BGCOLOR="#0033ff" WIDTH="31"><TABLE WIDTH="31" CELLPADDING="0" CELLSPACING="0"  BORDER="0"></TABLE></TD>
  <TD WIDTH = "18" VALIGN="top"  ><IMG SRC="ImagesCommon/nav_spacer.gif" BORDER="0" ></TD>
  <TD WIDTH="*" BACKGROUND="ImagesCommon/yellowback2.gif" VALIGN="top" >
  <TABLE WIDTH="290" CELLPADDING="0" CELLSPACING="0"  BORDER="0"></TABLE>
<A class="qindex" href="index.html"><IMG ALIGN="middle" SRC="ImagesCommon/bullet.gif" BORDER="0"><B><FONT SIZE=-1 FACE="arial" COLOR="#315AFF"> main</FONT></B></A>
<A class="qindex" href="hierarchy.html"><IMG ALIGN="middle" SRC="ImagesCommon/bullet.gif" BORDER="0"><B><FONT SIZE=-1 FACE="arial" COLOR="#315AFF"> hierarchy</FONT></B></A>
<A class="qindex" href="annotated.html"><IMG ALIGN="middle" SRC="ImagesCommon/bullet.gif" BORDER="0"><B><FONT SIZE=-1 FACE="arial" COLOR="#315AFF"> annotated types</FONT></B></A>
<A class="qindex" href="classes.html"><IMG ALIGN="middle" SRC="ImagesCommon/bullet.gif" BORDER="0"><B><FONT SIZE=-1 FACE="arial" COLOR="#315AFF"> type index</FONT></B></A>
<A class="qindex" href="functions.html"><IMG ALIGN="middle" SRC="ImagesCommon/bullet.gif" BORDER="0"><B><FONT SIZE=-1 FACE="arial" COLOR="#315AFF"> functions</FONT></B></A>
<A class="qindex" href="globals.html"><IMG ALIGN="middle" SRC="ImagesCommon/bullet.gif" BORDER="0"><B><FONT SIZE=-1 FACE="arial" COLOR="#315AFF"> globals</FONT></B></A>
<A class="qindex" href="files.html"><IMG ALIGN="middle" SRC="ImagesCommon/bullet.gif" BORDER="0"><B><FONT SIZE=-1 FACE="arial" COLOR="#315AFF"> files</FONT></B></A>
<A class="qindex" href="dirs.html"><IMG ALIGN="middle" SRC="ImagesCommon/bullet.gif" BORDER="0"><B><FONT SIZE=-1 FACE="arial" COLOR="#315AFF"> directories</FONT></B></A>
<A class="qindex" href="pages.html"><IMG ALIGN="middle" SRC="ImagesCommon/bullet.gif" BORDER="0"><B><FONT SIZE=-1 FACE="arial" COLOR="#315AFF"> related pages</FONT></B></A>
</TD>
  <TD  WIDTH="*" VALIGN="top" ALIGN="left" BACKGROUND="ImagesCommon/logospacer.gif"><IMG SRC="ImagesCommon/logo_spacer.gif" WIDTH="22" HEIGHT="52"></TD>
  <TD  WIDTH="100" VALIGN="top" ALIGN="right" ><A HREF="http://sourceforge.net/projects/u3d/"><IMG SRC="ImagesCommon/logo.gif"  HEIGHT="52" BORDER="0"></A></TD>
</TR>
</TABLE>

<TABLE WIDTH="100%" CELLPADDING="0" CELLSPACING="0"  BORDER="0">
<TR>
<TD WIDTH="39" BACKGROUND="ImagesCommon/left2.gif"  align="left"></TD>
<TD WIDTH="10" BGCOLOR="#eeeeee"></TD>
<TD WIDTH="*" BGCOLOR="#eeeeee">
<BR>
<!-- Generated by Doxygen 1.4.4 -->
<h1><a class="anchor" name="PageProjectConfigurationFiles">Project Configuration Files</a></h1>The various U3D Sample Software compiled binary files, provided in the <code>Bin</code> directory, can be generated by using the provided build system as described and used in the <a class="el" href="pagebuildprocedure.html">Build Procedure</a>.<p>
This build system uses five different types of configuration files which are provided in the U3D Sample Software packages and are pre-configured for supported platforms. All configuration files are located in the <code>Source\Config</code> directory tree.<ul>
<li>The first type has the <b><code></code>.conf</b> extension and contains global settings that are cross-platform and cross-compiler.</li><li>The second type has the <b><code></code>.def</b> extension and contains global settings used with all targets that are per-platform and per-compiler specific. For the Win32* platform this file is called <code>make_Win32.def</code>.</li><li>The third type has the <b><code></code>.xml</b> extension and is what is commonly called a <em>Project</em> <em>Configuration</em> <em>File</em>. It contains all of the specific details about a library (static or dynamic) or executable to be compiled, including where the source files are located and what other projects it may depend upon. For the Win32* platform the example of such files is <code>Core.xml</code>. These files are located in Config\Projects subdirectory.</li><li>The fourth type also has the <b><code></code>.xml</b> extension and is considered the <em>Workspace</em> file because it identifies all of the names of the individual Project Configuration Files to be compiled. It can simply contain XML comment tags and one <code>workspace</code> tag which should contain the names of the desired individual Project Configuration Files with the root name listed only, without the <code></code>.xml extension. For the Win32* platform this file is called <code>workspace_Win32.xml</code>. <dl compact><dt><b>Note:</b></dt><dd>Build system allows adding new projects to build and removing unneeded projects from build by user. To add project called &lt;USER_PRJ&gt; one should add file &lt;USER_PRJ&gt;.xml to <code>Config/Projects</code> directory and add line &lt;USER_PRJ&gt; to workspace_&lt;OS&gt;.xml files, where &lt;OS&gt; is each of operating systems the new project is intended to work on. To remove project called &lt;U3D_PRJ&gt; from build one should remove file &lt;U3D_PRJ&gt;.xml from <code>Config/Projects</code> directory and remove line &lt;U3D_PRJ&gt; from workspace_&lt;OS&gt;.xml files, where &lt;OS&gt; is each of operating systems the project used to to work on.</dd></dl>
</li><li>The fifth type has no extension and contains project settings that can vary when using different platforms and/or compilers. These files are located in Config\Options subdirectory and are included in Project Configuration Files as external entities. For example, entities CompileDebug and CompileRelease are included in most project settings.</li></ul>
<p>
The rest of this page describes additional details about configuration file formats.<p>
<hr>
 <h2><a class="anchor" name="SectionCommentedXMLTemplate">
Commented XML Template</a></h2>
Here are the typical contents of the per-project XML configuration file. The bulleted comments should be considered informative text only and not be present in these files.<p>
<code>&lt;project_description&gt;</code> <p>
<code>&lt;project_name&gt;</code> <ul>
<li>List the project name. It must coincide with this XML file name. For example, <div class="fragment"><pre class="fragment">Rendering </pre></div></li></ul>
<p>
<code>&lt;/project_name&gt;</code> <p>
<code>&lt;output_name&gt;</code> <ul>
<li>List the target name of the output file to be created (*.lib, .dll, *.exe, etc.). Packaged version supports three types of output files. Static library (*.lib for Win32* and *.a for Linux) must be represented with the keyword <code>$</code>(SLIB). For example, <div class="fragment"><pre class="fragment">IFXCommon.$(SLIB)  </pre></div> Dynamically linked library (*.dll for Win32* and *.so for Linux) must be represented with the keyword <code>$</code>(DLIB). Executable file (*.exe for Win32* and *.out for Linux) must be represented with the keyword <code>$</code>(EXEC). The keywords <code>SLIB</code>, <code>DLIB</code> and <code>EXEC</code> are defined in configuration files make_*.def.</li></ul>
<p>
<code>&lt;/output_name&gt;</code> <p>
<code>&lt;source_dir&gt;</code> <ul>
<li>Identifies where a project's source files can be located. First line must contain a directory path that is relative to the U3D_SOURCE environment variable and be terminated with a trailing forward slash that contains files to be compiled. Subsequent lines can contain additional individual source code file names with a path that must be relative to the path defined in the first line of this command. For example, <div class="fragment"><pre class="fragment">RTL/Component/Rendering/
../../Platform/IFXRendering/Win32/IFXRenderingDllMain.cpp
../../Platform/IFXRendering/Win32/IFXRendering.rc </pre></div></li></ul>
<p>
<code>&lt;/source_dir&gt;</code> <p>
<code>&lt;source_exclude_files&gt;</code> <ul>
<li>List all of the individual source code files which should not be included during compilation relative to the source code path identified in the <code>&lt;source_dir&gt;</code> command. Here is an example: <div class="fragment"><pre class="fragment">IFXOSIPP.cpp  </pre></div></li></ul>
<p>
<code>&lt;/source_exclude_files&gt;</code> <p>
<code>&lt;include_dirs&gt;</code> <ul>
<li>List all of the additional include directories that the source code to be compiled depends upon. These paths should be relative to the source code path identified in the <code>&lt;source_dir&gt;</code> command, and must not include a trailing forward slash. For example, <div class="fragment"><pre class="fragment">../Include
../../Kernel/Include
../../Platform/Include
../../Dependencies/OpenGL/Include </pre></div></li></ul>
<p>
<code>&lt;/include_dirs&gt;</code> <p>
<code>&lt;dependencies&gt;</code> <ul>
<li>List the root .xml file name for all of the projects that this project depends upon. For example, <div class="fragment"><pre class="fragment">Core
CorePluginStatic
Octree
RenderingDX7
RenderingDX8
RenderingNULL
RenderingOpenGL
RenderingStatic </pre></div></li></ul>
<p>
<code>&lt;/dependencies&gt;</code> <p>
<code>&lt;options</code> <code>cfg="ConfigName"&gt;</code> <ul>
<li>Specify additional options for the build <code>ConfigName</code> type which is identified by the <code>cfg</code> attribute (packaged version contains <code>"Debug"</code> and <code>"Release"</code>). Additional options can be specified for the compiler and the linker. Linker options can be either link flags or additional libraries that are included on the linking step. All the options must be represented as a set of external entities physically located in the Options directory. For example with <code>cfg="Release"</code> options for IFXRendering are as following, <br>
 <div class="fragment"><pre class="fragment">&amp;CompileDebugWithMSExt;
&amp;LinkDebug;
&amp;AddLibStd; </pre></div></li></ul>
<p>
In this example there are four external entities which are included in project settings. One of them provides compilation settings with Microsoft* languae extensions, the second enables debug information for the linker, and the last provides information about external static libraries to be linked with current binary.<p>
<code>&lt;/options&gt;</code> <p>
<code>&lt;vs7name&gt;</code> <ul>
<li>Name used for the Microsoft* Visual Studio* .Net* project if <code>vs7_convert.bat</code> is used to generate compatible solution and project files. This setting is Windows*-specific. For example, <div class="fragment"><pre class="fragment">Rendering </pre></div></li></ul>
<p>
<code>&lt;/vs7name&gt;</code> <p>
<code>&lt;/project_description&gt;</code> <p>
<dl compact><dt><b>Note:</b></dt><dd>Comments are not allowed inside XML commands. Comments can only be used to comment out an entire XML command, including both the start of the tag and the end of the tag.</dd></dl>
<hr>
 <h2><a class="anchor" name="SectionXMLCommandAttributeSyntax">
XML Command Attribute Syntax Requirements</a></h2>
For each XML command, here is a description of what symbols are allowed in their associated attributes:<ul>
<li><em><code>project_name</code> -</em> Latin letters and underscores only.</li><li><em><code>output_name</code> -</em> Latin letters, underscores and one point.</li><li><em><code>source_dir</code> -</em> Latin letters, underscores, slashes, points.</li><li><em><code>export</code> -</em> Latin letters, underscores, slashes, points.</li><li><em><code>source_exclude_files</code> -</em> Latin letters, underscores, slashes, points.</li><li><em><code>include_dirs</code> -</em> Latin letters, underscores, slashes, points.</li><li><em><code>dependencies</code> -</em> Latin letters and underscores only.</li><li><em><code>options</code> -</em> Latin letters, underscores, equal signs, points, slashes, hyphens (for Lin32 compiler options), spaces, colons and inverted commas.</li><li><em><code>vs7name</code> -</em> Latin letters and underscores only.</li></ul>
<p>
<dl compact><dt><b>Note:</b></dt><dd>The line that contains the XML tag must not contain any symbols after the tag.</dd></dl>
Project configuration files can also contain links to the settings specified in files <code>make_*</code>.def and <code>u3d.conf</code>. These files consist of lines which have the following format: <code>&lt;STRING1&gt;</code> <code>=</code> <code>&lt;STRING2&gt;</code>. For example, <div class="fragment"><pre class="fragment">U3D_OUTPUT = Build/U3D </pre></div><p>
Below is the example usage of such settings: <div class="fragment"><pre class="fragment">RTL/Platform/$(U3D_PLATFORM)/Common/ </pre></div><p>
This technique is used in &lt;output_name&gt; section of Project Configuration File format.<p>
<hr>
 <h2><a class="anchor" name="External">
Entities Format and Linkage</a></h2>
External entities must comply to XML 1.0 format. For example, <div class="fragment"><pre class="fragment">&lt;?xml version="1.0" encoding="windows-1252" ?&gt;
&lt;cl&gt;
/MTd /Za /Zi /Od /D DEBUG /D _DEBUG
&lt;/cl&gt;
&lt;gcc&gt;
-Wall -fPIC -DPIC -g -DDEBUG -D_DEBUG
&lt;/gcc&gt; </pre></div><p>
This entity is called CompileDebug and it defines compiler options for debug compilations for two compilers: cl and gcc. Settings for each compiler must be contained in the corresponding compiler tag. Platform-dependant compiler settings must be contained in <code>&lt;$</code>(COMPILER)_$(U3D_PLATFORM)&gt; tags, i.e. the first part of the name should be <code>$</code>(COMPILER) setting which must be defined in <code>make_*</code>.def, and the second part should be <code>$</code>(U3D_PLATFORM) which must be defined in <code>u3d.conf</code> file. <div class="fragment"><pre class="fragment">&lt;?xml version="1.0" encoding="windows-1252" ?&gt;
&lt;icl_Win32&gt;
/D DEBUG /D _DEBUG
&lt;/icl_Win32&gt; </pre></div><p>
This entity defines Intel compiler settings for Win32* platform.<p>
The linkage of such entities is described above in <code>&lt;options&gt;</code> section of Project Configuration File description.<p>
<hr>
 <h2><a class="anchor" name="SectionRelatedInformation">
Related Information</a></h2>
<ul>
<li><a class="el" href="pagebuildprocedure.html">Build Procedure</a> </li></ul>
<P>

<TABLE CELLPADDING="0" CELLSPACING="0" BORDER="0">
 <TR><TD>
 <FONT SIZE="-2" FACE="arial"><I>&#169; 1999 - 2006 Intel Corporation. All rights reserved.<BR><BR>
 * Other names and brands may be claimed as the property of others.</I></FONT>
 </TD></TR>
</TABLE>

<TABLE WIDTH="100%" CELLPADDING="0" CELLSPACING="0" BORDER="0">
<TR>
<TD WIDTH="18"><IMG SRC="ImagesCommon/footer1.gif" HEIGHT="45" BORDER="0"></TD>
<TD WIDTH="5" ><IMG SRC="ImagesCommon/footer2.gif" WIDTH="5" HEIGHT="45" BORDER="0"></TD>
<TD WIDTH="28"><IMG SRC="ImagesCommon/footer3.gif" HEIGHT="45" BORDER="0"></TD>
<TD BACKGROUND="ImagesCommon/footer4.gif" WIDTH="*"><IMG SRC="ImagesCommon/footer4.gif" HEIGHT="45" BORDER="0"></TD>
<TD WIDTH="26"><IMG SRC="ImagesCommon/footer5.gif" HEIGHT="45" BORDER="0"></TD>
</TR>
<TR><TD COLSPAN="5"></TD></TR>
</TABLE>


