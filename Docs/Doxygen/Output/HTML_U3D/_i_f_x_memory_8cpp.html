<HTML>
<HEAD>
<TITLE>Universal 3D:Universal 3D: IFXMemory.cpp File Reference</TITLE>
<meta name = "description" content = "">
<meta name = "keywords" content = "">
<meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<link href="U3D.css" rel="stylesheet" type="text/css">
</HEAD>
<BODY bgcolor="#eeeeee">
<A NAME="#top">

<TABLE WIDTH="100%" CELLPADDING="0" CELLSPACING="0"  BORDER="0">
<TR>
 <TD COLSPAN="2" BACKGROUND="ImagesCommon/top.gif"><IMG SRC="ImagesCommon/top_left.gif" WIDTH="31" HEIGHT="15"></TD>
 <TD COLSPAN="2" BACKGROUND="ImagesCommon/top.gif"></TD>
 <TD COLSPAN="1" WIDTH="100" ><IMG SRC="ImagesCommon/top_right.gif" HEIGHT="15" ></TD>
</TR>
<TR>
  <TD BGCOLOR="#0033ff" WIDTH="31"><TABLE WIDTH="31" CELLPADDING="0" CELLSPACING="0"  BORDER="0"></TABLE></TD>
  <TD WIDTH = "18" VALIGN="top"  ><IMG SRC="ImagesCommon/nav_spacer.gif" BORDER="0" ></TD>
  <TD WIDTH="*" BACKGROUND="ImagesCommon/yellowback2.gif" VALIGN="top" >
  <TABLE WIDTH="290" CELLPADDING="0" CELLSPACING="0"  BORDER="0"></TABLE>
<A class="qindex" href="index.html"><IMG ALIGN="middle" SRC="ImagesCommon/bullet.gif" BORDER="0"><B><FONT SIZE=-1 FACE="arial" COLOR="#315AFF"> main</FONT></B></A>
<A class="qindex" href="hierarchy.html"><IMG ALIGN="middle" SRC="ImagesCommon/bullet.gif" BORDER="0"><B><FONT SIZE=-1 FACE="arial" COLOR="#315AFF"> hierarchy</FONT></B></A>
<A class="qindex" href="annotated.html"><IMG ALIGN="middle" SRC="ImagesCommon/bullet.gif" BORDER="0"><B><FONT SIZE=-1 FACE="arial" COLOR="#315AFF"> annotated types</FONT></B></A>
<A class="qindex" href="classes.html"><IMG ALIGN="middle" SRC="ImagesCommon/bullet.gif" BORDER="0"><B><FONT SIZE=-1 FACE="arial" COLOR="#315AFF"> type index</FONT></B></A>
<A class="qindex" href="functions.html"><IMG ALIGN="middle" SRC="ImagesCommon/bullet.gif" BORDER="0"><B><FONT SIZE=-1 FACE="arial" COLOR="#315AFF"> functions</FONT></B></A>
<A class="qindex" href="globals.html"><IMG ALIGN="middle" SRC="ImagesCommon/bullet.gif" BORDER="0"><B><FONT SIZE=-1 FACE="arial" COLOR="#315AFF"> globals</FONT></B></A>
<A class="qindex" href="files.html"><IMG ALIGN="middle" SRC="ImagesCommon/bullet.gif" BORDER="0"><B><FONT SIZE=-1 FACE="arial" COLOR="#315AFF"> files</FONT></B></A>
<A class="qindex" href="dirs.html"><IMG ALIGN="middle" SRC="ImagesCommon/bullet.gif" BORDER="0"><B><FONT SIZE=-1 FACE="arial" COLOR="#315AFF"> directories</FONT></B></A>
<A class="qindex" href="pages.html"><IMG ALIGN="middle" SRC="ImagesCommon/bullet.gif" BORDER="0"><B><FONT SIZE=-1 FACE="arial" COLOR="#315AFF"> related pages</FONT></B></A>
</TD>
  <TD  WIDTH="*" VALIGN="top" ALIGN="left" BACKGROUND="ImagesCommon/logospacer.gif"><IMG SRC="ImagesCommon/logo_spacer.gif" WIDTH="22" HEIGHT="52"></TD>
  <TD  WIDTH="100" VALIGN="top" ALIGN="right" ><A HREF="http://sourceforge.net/projects/u3d/"><IMG SRC="ImagesCommon/logo.gif"  HEIGHT="52" BORDER="0"></A></TD>
</TR>
</TABLE>

<TABLE WIDTH="100%" CELLPADDING="0" CELLSPACING="0"  BORDER="0">
<TR>
<TD WIDTH="39" BACKGROUND="ImagesCommon/left2.gif"  align="left"></TD>
<TD WIDTH="10" BGCOLOR="#eeeeee"></TD>
<TD WIDTH="*" BGCOLOR="#eeeeee">
<BR>
<!-- Generated by Doxygen 1.4.4 -->
<div class="nav">
<a class="el" href="dir_000000.html">Source</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_000001.html">RTL</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_000016.html">Kernel</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_000059.html">Memory</a></div>
<h1>IFXMemory.cpp File Reference</h1>This module defines a memory abstraction layer. <a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void *IFXAPI&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_f_x_memory_8cpp.html#a3">IFXAllocate</a> (size_t byteCount)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void IFXAPI&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_f_x_memory_8cpp.html#a4">IFXDeallocate</a> (void *pMemory)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void *IFXAPI&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_f_x_memory_8cpp.html#a5">IFXReallocate</a> (void *pMemory, size_t byteCount)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IFXRESULT IFXAPI&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_f_x_memory_8cpp.html#a6">IFXGetMemoryFunctions</a> (<a class="el" href="_i_f_x_memory_8h.html#a0">IFXAllocateFunction</a> **ppAllocateFunction, IFXDeallocateFunction **<a class="el" href="_i_f_x_core_static_8cpp.html#a2">ppDeallocateFunction</a>, <a class="el" href="_i_f_x_memory_8h.html#a1">IFXReallocateFunction</a> **<a class="el" href="_i_f_x_core_static_8cpp.html#a3">ppReallocateFunction</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IFXRESULT IFXAPI&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_f_x_memory_8cpp.html#a7">IFXSetMemoryFunctions</a> (<a class="el" href="_i_f_x_memory_8h.html#a0">IFXAllocateFunction</a> *pAllocateFunction, IFXDeallocateFunction *<a class="el" href="_i_f_x_core_static_8cpp.html#a4">pDeallocateFunction</a>, <a class="el" href="_i_f_x_memory_8h.html#a1">IFXReallocateFunction</a> *<a class="el" href="_i_f_x_core_static_8cpp.html#a5">pReallocateFunction</a>)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="_i_f_x_memory_8h.html#a0">IFXAllocateFunction</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_f_x_memory_8cpp.html#a0">gs_pAllocateFunction</a> = malloc</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IFXDeallocateFunction *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_f_x_memory_8cpp.html#a1">gs_pDeallocateFunction</a> = free</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="_i_f_x_memory_8h.html#a1">IFXReallocateFunction</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_f_x_memory_8cpp.html#a2">gs_pReallocateFunction</a> = realloc</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This module defines a memory abstraction layer. 
<p>
It's used to funnel memory related services (allocation, deallocation and reallocation) through a common point that can be controlled for tracking or porting purposes. It also overloads the default C++ new, new[], delete and delete[] operators so that the memory abstraction layer is used.<p>
<dl compact><dt><b>Note:</b></dt><dd>Eventually at some point, add to the debug version, code to report total memory usage, amount of current memory allocated, etc.</dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a3"></a><!-- doxytag: member="IFXMemory.cpp::IFXAllocate" ref="a3" args="(size_t byteCount)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void* IFXAPI IFXAllocate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">size_t&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>byteCount</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function is used to allocate a block of memory. 
<p>
If successful, a pointer to the memory block is returned. Otherwise, enough memory isn't available and NULL is returned.    </td>
  </tr>
</table>
<a class="anchor" name="a4"></a><!-- doxytag: member="IFXMemory.cpp::IFXDeallocate" ref="a4" args="(void *pMemory)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void IFXAPI IFXDeallocate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pMemory</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function is used to deallocate a block of memory previously allocated with the IFXDeallocate function. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a6"></a><!-- doxytag: member="IFXMemory.cpp::IFXGetMemoryFunctions" ref="a6" args="(IFXAllocateFunction **ppAllocateFunction, IFXDeallocateFunction **ppDeallocateFunction, IFXReallocateFunction **ppReallocateFunction)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IFXRESULT IFXAPI IFXGetMemoryFunctions           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="_i_f_x_memory_8h.html#a0">IFXAllocateFunction</a> **&nbsp;</td>
          <td class="mdname" nowrap> <em>ppAllocateFunction</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>IFXDeallocateFunction **&nbsp;</td>
          <td class="mdname" nowrap> <em>ppDeallocateFunction</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="_i_f_x_memory_8h.html#a1">IFXReallocateFunction</a> **&nbsp;</td>
          <td class="mdname" nowrap> <em>ppReallocateFunction</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function is used to get pointers to the three main memory functions. 
<p>
Specify NULL for any function pointer that is not desired. IFX_OK is always returned.    </td>
  </tr>
</table>
<a class="anchor" name="a5"></a><!-- doxytag: member="IFXMemory.cpp::IFXReallocate" ref="a5" args="(void *pMemory, size_t byteCount)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void* IFXAPI IFXReallocate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname" nowrap> <em>pMemory</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>byteCount</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function is used to reallocate a block of memory previously allocated by the IFXAllocate function using the new byte count. 
<p>
If successful, a pointer to the reallocated memory block is returned. It may not be the same pointer passed to the function, however the contents of the memory block will mirror the original memory block (they will be truncated if a smaller block is requested or undefined after the original data ends if a larger block is requested). Otherwise, enough memory isn't available and NULL is returned.    </td>
  </tr>
</table>
<a class="anchor" name="a7"></a><!-- doxytag: member="IFXMemory.cpp::IFXSetMemoryFunctions" ref="a7" args="(IFXAllocateFunction *pAllocateFunction, IFXDeallocateFunction *pDeallocateFunction, IFXReallocateFunction *pReallocateFunction)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IFXRESULT IFXAPI IFXSetMemoryFunctions           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="_i_f_x_memory_8h.html#a0">IFXAllocateFunction</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pAllocateFunction</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>IFXDeallocateFunction *&nbsp;</td>
          <td class="mdname" nowrap> <em>pDeallocateFunction</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="_i_f_x_memory_8h.html#a1">IFXReallocateFunction</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pReallocateFunction</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function is used to replace the three main memory functions. 
<p>
Specify NULL for all three function pointers to restore the default functions. Upon success, IFX_OK is returned. Otherwise, IFX_E_INVALID_POINTER is returned.    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a0"></a><!-- doxytag: member="IFXMemory.cpp::gs_pAllocateFunction" ref="a0" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="_i_f_x_memory_8h.html#a0">IFXAllocateFunction</a>* <a class="el" href="_i_f_x_memory_8cpp.html#a0">gs_pAllocateFunction</a> = malloc          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a1"></a><!-- doxytag: member="IFXMemory.cpp::gs_pDeallocateFunction" ref="a1" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">IFXDeallocateFunction* <a class="el" href="_i_f_x_memory_8cpp.html#a1">gs_pDeallocateFunction</a> = free          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a2"></a><!-- doxytag: member="IFXMemory.cpp::gs_pReallocateFunction" ref="a2" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="_i_f_x_memory_8h.html#a1">IFXReallocateFunction</a>* <a class="el" href="_i_f_x_memory_8cpp.html#a2">gs_pReallocateFunction</a> = realloc          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<P>

<TABLE CELLPADDING="0" CELLSPACING="0" BORDER="0">
 <TR><TD>
 <FONT SIZE="-2" FACE="arial"><I>&#169; 1999 - 2006 Intel Corporation. All rights reserved.<BR><BR>
 * Other names and brands may be claimed as the property of others.</I></FONT>
 </TD></TR>
</TABLE>

<TABLE WIDTH="100%" CELLPADDING="0" CELLSPACING="0" BORDER="0">
<TR>
<TD WIDTH="18"><IMG SRC="ImagesCommon/footer1.gif" HEIGHT="45" BORDER="0"></TD>
<TD WIDTH="5" ><IMG SRC="ImagesCommon/footer2.gif" WIDTH="5" HEIGHT="45" BORDER="0"></TD>
<TD WIDTH="28"><IMG SRC="ImagesCommon/footer3.gif" HEIGHT="45" BORDER="0"></TD>
<TD BACKGROUND="ImagesCommon/footer4.gif" WIDTH="*"><IMG SRC="ImagesCommon/footer4.gif" HEIGHT="45" BORDER="0"></TD>
<TD WIDTH="26"><IMG SRC="ImagesCommon/footer5.gif" HEIGHT="45" BORDER="0"></TD>
</TR>
<TR><TD COLSPAN="5"></TD></TR>
</TABLE>


